# 电子衣柜 1.0

这是一个面向闲鱼多账号服装上架场景的“中央厨房 + 隔离执行”系统，包含：

- **中央厨房（Windows 桌面端）**：素材管理、AI 文案生成、水印、任务分发、日志汇总。
- **安卓隔离执行器**：三台独立设备读取本地任务包，通过无障碍 + Root 自动化模拟人工发布。
- **运维保障**：任务拆分、风控策略、日志留存、备份与回溯。

## 阶段规划

| 阶段 | 目标 | 核心交付 |
| --- | --- | --- |
| Stage 0 | 基础设施搭建 | 仓库结构、依赖管理、质量工具、文档骨架 |
| Stage 1 | 核心管线 | 素材解析、AI 文案、敏感词过滤、任务打包 |
| Stage 2 | 桌面应用 | PySide6 UI、配置管理、任务推送、同步日志 |
| Stage 3 | 图片标注 | GUI 标注器、颜色/规格映射、快捷命令 |
| Stage 4 | 安卓执行器 | AccessibilityState Machine、Root 文件操作、失败回写 |
| Stage 5 | 联调 | 真机/模拟器回归、三设备同步、异常场景验证 |
| Stage 6 | 文档交付 | 操作手册、维护指南、问题排查、打包脚本 |
| Stage 7 | 验收 | 测试矩阵、性能评估、风控复核 |
| Stage 8 | 运维交接 | 版本规范、备份策略、模型更新流程 |

## 运行环境要求

- Windows 10/11（桌面端主环境，需管理员权限、支持 NVIDIA RTX 2070 + 32GB 内存）。
- Python 3.11（规划通过 `uv` 统一管理依赖，兼容 `poetry` 备份方案）。
- Ollama 本地大模型（文案改写、敏感词过滤）。
- Android 设备：小米 8 ×3，Android 10，已 Root，支持无障碍服务。
- Git + PowerShell 7（或 Windows Terminal）用于项目管理。

## 目录总览（规划）

```
电子衣柜1.0/
├── app/              # 桌面端、安卓端子工程
├── core/             # 中央厨房核心逻辑与管线
├── docs/             # 架构说明、流程、SOP、需求归档
├── scripts/          # 辅助脚本（自动化、CI、本地工具）
├── tests/            # 单元、集成、端到端测试
├── tools/            # 外部资源、二进制工具、临时依赖
└── data/             # 示例素材、模型缓存（受 .gitignore 管理）
```

## 下一步

1. 配置 `.gitignore`、`pyproject.toml`、质量工具与 `pre-commit`。
2. 补齐 Stage 规划文档（`docs/stages.md`、`docs/workflow.md` 等）。
3. 建立初次提交与备份策略，确保后续开发可追溯。
